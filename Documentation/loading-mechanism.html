<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <link rel="prev" href="./styling-configuration.html" />

        <link rel="next" href="./motion-usage/" />

        <link rel="icon" href="./assets/icon.png" />
        <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5" />

        <title>Loading Mechanism - Mechano Documentation</title>

        <link
            rel="stylesheet"
            href="./assets/stylesheets/main.8608ea7d.min.css"
        />

        <link
            rel="stylesheet"
            href="./assets/stylesheets/palette.06af60db.min.css"
        />

        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"
        />
        <style>
            :root {
                --md-text-font: "Roboto";
                --md-code-font: "Roboto Mono";
            }
        </style>

        <script>
            (__md_scope = new URL("..", location)),
                (__md_hash = (e) =>
                    [...e].reduce((e, _) => (e << 5) - e + _.charCodeAt(0), 0)),
                (__md_get = (e, _ = localStorage, t = __md_scope) =>
                    JSON.parse(_.getItem(t.pathname + "." + e))),
                (__md_set = (e, _, t = localStorage, a = __md_scope) => {
                    try {
                        t.setItem(a.pathname + "." + e, JSON.stringify(_));
                    } catch (e) {}
                });
        </script>
    </head>

    <body
        dir="ltr"
        data-md-color-scheme="slate"
        data-md-color-primary="teal"
        data-md-color-accent="indigo"
    >
        <input
            class="md-toggle"
            data-md-toggle="drawer"
            type="checkbox"
            id="__drawer"
            autocomplete="off"
        />
        <input
            class="md-toggle"
            data-md-toggle="search"
            type="checkbox"
            id="__search"
            autocomplete="off"
        />
        <label class="md-overlay" for="__drawer"></label>
        <div data-md-component="skip">
            <a href="#loading-mechanism" class="md-skip"> Skip to content </a>
        </div>
        <div data-md-component="announce"></div>

        <header class="md-header" data-md-component="header">
            <nav class="md-header__inner md-grid" aria-label="Header">
                <a
                    href="./loading-mechanism.html"
                    title="Mechano Documentation"
                    class="md-header__button md-logo"
                    aria-label="Mechano Documentation"
                    data-md-component="logo"
                >
                    <img src="./assets/icon.png" alt="logo" />
                </a>
                <label class="md-header__button md-icon" for="__drawer">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z" />
                    </svg>
                </label>
                <div class="md-header__title" data-md-component="header-title">
                    <div class="md-header__ellipsis">
                        <div class="md-header__topic">
                            <span class="md-ellipsis">
                                Mechano Documentation
                            </span>
                        </div>
                        <div
                            class="md-header__topic"
                            data-md-component="header-topic"
                        >
                            <span class="md-ellipsis"> Loading Mechanism </span>
                        </div>
                    </div>
                </div>

                <label class="md-header__button md-icon" for="__search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path
                            d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"
                        />
                    </svg>
                </label>
                <div class="md-search" data-md-component="search" role="dialog">
                    <label class="md-search__overlay" for="__search"></label>
                    <div class="md-search__inner" role="search">
                        <form class="md-search__form" name="search">
                            <input
                                type="text"
                                class="md-search__input"
                                name="query"
                                aria-label="Search"
                                placeholder="Search"
                                autocapitalize="off"
                                autocorrect="off"
                                autocomplete="off"
                                spellcheck="false"
                                data-md-component="search-query"
                                required
                            />
                            <label
                                class="md-search__icon md-icon"
                                for="__search"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"
                                    />
                                </svg>

                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"
                                    />
                                </svg>
                            </label>
                            <nav class="md-search__options" aria-label="Search">
                                <button
                                    type="reset"
                                    class="md-search__icon md-icon"
                                    title="Clear"
                                    aria-label="Clear"
                                    tabindex="-1"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 24 24"
                                    >
                                        <path
                                            d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                                        />
                                    </svg>
                                </button>
                            </nav>

                            <div
                                class="md-search__suggest"
                                data-md-component="search-suggest"
                            ></div>
                        </form>
                        <div class="md-search__output">
                            <div
                                class="md-search__scrollwrap"
                                tabindex="0"
                                data-md-scrollfix
                            >
                                <div
                                    class="md-search-result"
                                    data-md-component="search-result"
                                >
                                    <div class="md-search-result__meta">
                                        Initializing search
                                    </div>
                                    <ol
                                        class="md-search-result__list"
                                        role="presentation"
                                    ></ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <div class="md-container" data-md-component="container">
            <nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
                <div class="md-grid">
                    <ul class="md-tabs__list">
                        <li class="md-tabs__item">
                            <a href="./index.html" class="md-tabs__link">
                                Introduction
                            </a>
                        </li>

                         <li class="md-tabs__item">
                            <a href="./getting-started.html" class="md-tabs__link">
                                Getting started
                            </a>
                        </li>

                        <li class="md-tabs__item">
                            <a
                                href="./component-customization.html"
                                class="md-tabs__link"
                            >
                                Component Customization
                            </a>
                        </li>

                         <li class="md-tabs__item">
                            <a
                                href="./styling-configuration.html"
                                class="md-tabs__link"
                            >
                                Styling Configuration
                            </a>
                        </li>

                        <li class="md-tabs__item md-tabs__item--active">
                            <a href="./loading-mechanism.html" class="md-tabs__link">
                                Loading Mechanism
                            </a>
                        </li>

                        <li class="md-tabs__item">
                            <a href="./motion-usage.html" class="md-tabs__link">
                                Motion usage
                            </a>
                        </li>

                        <li class="md-tabs__item">
                            <a
                                href="./support_resources.html"
                                class="md-tabs__link"
                            >
                                Support &amp; Resources
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <main class="md-main" data-md-component="main">
                <div class="md-main__inner md-grid">
                    <div
                        class="md-sidebar md-sidebar--primary"
                        data-md-component="sidebar"
                        data-md-type="navigation"
                    >
                        <div class="md-sidebar__scrollwrap">
                            <div class="md-sidebar__inner">
                                <nav
                                    class="md-nav md-nav--primary md-nav--lifted md-nav--integrated"
                                    aria-label="Navigation"
                                    data-md-level="0"
                                >
                                    <label class="md-nav__title" for="__drawer">
                                        <a
                                            href="./loading-mechanism.html"
                                            title="Mechano Documentation"
                                            class="md-nav__button md-logo"
                                            aria-label="Mechano Documentation"
                                            data-md-component="logo"
                                        >
                                            <img
                                                src="./assets/icon.png"
                                                alt="logo"
                                            />
                                        </a>
                                        Mechano Documentation
                                    </label>

                                    <ul class="md-nav__list" data-md-scrollfix>
                                        <li class="md-nav__item">
                                            <a href="./index.html" class="md-nav__link">
                                                <span class="md-ellipsis">
                                                    Introduction
                                                </span>
                                            </a>
                                        </li>

                                        <li class="md-nav__item">
                                            <a
                                                href="./component-customization.html"
                                                class="md-nav__link"
                                            >
                                                <span class="md-ellipsis">
                                                    Component Customization
                                                </span>
                                            </a>
                                        </li>

                                        <li class="md-nav__item">
                                            <a
                                                href="./getting-started.html"
                                                class="md-nav__link"
                                            >
                                                <span class="md-ellipsis">
                                                    Getting started
                                                </span>
                                            </a>
                                        </li>

                                        <li
                                            class="md-nav__item md-nav__item--active"
                                        >
                                            <input
                                                class="md-nav__toggle md-toggle"
                                                type="checkbox"
                                                id="__toc"
                                            />

                                            <label
                                                class="md-nav__link md-nav__link--active"
                                                for="__toc"
                                            >
                                                <span class="md-ellipsis">
                                                    Loading Mechanism
                                                </span>

                                                <span
                                                    class="md-nav__icon md-icon"
                                                ></span>
                                            </label>

                                            <a
                                                href="./loading-mechanism.html"
                                                class="md-nav__link md-nav__link--active"
                                            >
                                                <span class="md-ellipsis">
                                                    Loading Mechanism
                                                </span>
                                            </a>

                                            <nav
                                                class="md-nav md-nav--secondary"
                                                aria-label="Table of contents"
                                            >
                                                <label
                                                    class="md-nav__title"
                                                    for="__toc"
                                                >
                                                    <span
                                                        class="md-nav__icon md-icon"
                                                    ></span>
                                                    Table of contents
                                                </label>
                                                <ul
                                                    class="md-nav__list"
                                                    data-md-component="toc"
                                                    data-md-scrollfix
                                                >
                                                    <li class="md-nav__item">
                                                        <a
                                                            href="#i-context-api-for-state-management-indextsx"
                                                            class="md-nav__link"
                                                        >
                                                            <span
                                                                class="md-ellipsis"
                                                            >
                                                                I. Context API
                                                                for State
                                                                Management
                                                                (index.tsx)
                                                            </span>
                                                        </a>
                                                    </li>

                                                    <li class="md-nav__item">
                                                        <a
                                                            href="#ii-visual-loading-indicator-loadingtsx"
                                                            class="md-nav__link"
                                                        >
                                                            <span
                                                                class="md-ellipsis"
                                                            >
                                                                II. Visual
                                                                Loading
                                                                Indicator
                                                                (loading.tsx)
                                                            </span>
                                                        </a>
                                                    </li>

                                                    <li class="md-nav__item">
                                                        <a
                                                            href="#iii-orchestration-pagetsx-and-layouttsx"
                                                            class="md-nav__link"
                                                        >
                                                            <span
                                                                class="md-ellipsis"
                                                            >
                                                                III.
                                                                Orchestration
                                                                (page.tsx and
                                                                layout.tsx)
                                                            </span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </nav>
                                        </li>

                                        <li class="md-nav__item">
                                            <a
                                                href="./motion-usage.html"
                                                class="md-nav__link"
                                            >
                                                <span class="md-ellipsis">
                                                    Motion usage
                                                </span>
                                            </a>
                                        </li>

                                        <li class="md-nav__item">
                                            <a
                                                href="./styling-configuration.html" 
                                                class="md-nav__link"
                                            >
                                                <span class="md-ellipsis">
                                                    Styling Configuration
                                                </span>
                                            </a>
                                        </li>

                                        <li class="md-nav__item">
                                            <a
                                                href="./support_resources.html"
                                                class="md-nav__link"
                                            >
                                                <span class="md-ellipsis">
                                                    Support &amp; Resources
                                                </span>
                                            </a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>

                    <div class="md-content" data-md-component="content">
                        <article class="md-content__inner md-typeset">
                            <h1 id="loading-mechanism">Loading Mechanism</h1>
                            <p>
                                This section provides a detailed explanation of
                                the loading mechanism and context implementation
                                within the Mechano template. This mechanism
                                manages the display of a loading indicator
                                during application initialization, resulting in
                                a smoother user experience.
                            </p>
                            <h3
                                id="i-context-api-for-state-management-indextsx"
                            >
                                I. Context API for State Management
                                (<code>index.tsx</code>)
                            </h3>
                            <p>
                                The core of the loading mechanism is React's
                                Context API, implemented in
                                <code>index.tsx</code>. This approach
                                centralizes the loading state, making it easily
                                accessible across the entire application without
                                prop drilling.
                            </p>
                            <ol>
                                <li>
                                    <strong>Defining the Context Type:</strong>
                                    The
                                    <code>LoadingContextType</code> interface
                                    defines the shape of the context object:
                                </li>
                            </ol>
                            <div class="language-typescript highlight">
                                <table class="highlighttable">
                                    <tr>
                                        <td class="linenos">
                                            <div class="linenodiv">
                                                <pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span></pre>
                                            </div>
                                        </td>
                                        <td class="code">
                                            <div>
                                                <pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">LoadingContextType</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">    </span><span class="nx">loading</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="nx">setLoading</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">loading</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="p">}</span>
</span></code></pre>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <p>
                                This clearly specifies that the context will
                                hold a boolean <code>loading</code> flag and a
                                function <code>setLoading</code> to update it.
                            </p>
                            <ol>
                                <li>
                                    <strong>Creating the Context:</strong>
                                    <code>createContext</code> creates the
                                    context object itself:
                                </li>
                            </ol>
                            <div class="language-typescript highlight">
                                <table class="highlighttable">
                                    <tr>
                                        <td class="linenos">
                                            <div class="linenodiv">
                                                <pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre>
                                            </div>
                                        </td>
                                        <td class="code">
                                            <div>
                                                <pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">LoadingContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createContext</span><span class="o">&lt;</span><span class="nx">LoadingContextType</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">undefined</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>
</span></code></pre>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <p>
                                The <code>undefined</code> default value
                                indicates that the context's value is not yet
                                defined outside the provider.
                            </p>
                            <ol>
                                <li>
                                    <strong
                                        >The Provider
                                        (<code>LoadingProvider</code>):</strong
                                    >
                                    The <code>LoadingProvider</code> component
                                    is crucial; it makes the loading state
                                    available to all components within its
                                    scope.
                                </li>
                            </ol>
                            <div class="language-tsx highlight">
                                <table class="highlighttable">
                                    <tr>
                                        <td class="linenos">
                                            <div class="linenodiv">
                                                <pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span></pre>
                                            </div>
                                        </td>
                                        <td class="code">
                                            <div>
                                                <pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">LoadingProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">children</span><span class="w"> </span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="nx">LoadingProviderProps</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">loading</span><span class="p">,</span><span class="w"> </span><span class="nx">setLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">&lt;</span><span class="nt">boolean</span><span class="p">&gt;(</span><span class="kc">true</span><span class="p">);</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">        </span><span class="nx">requestAnimationFrame</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">            </span><span class="nb">window</span><span class="p">.</span><span class="nx">scrollTo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">        </span><span class="p">});</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">loading</span><span class="p">]);</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">        </span><span class="p">&lt;</span><span class="nt">LoadingContext</span><span class="p">.</span><span class="na">Provider</span><span class="w"> </span><span class="na">value</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">loading</span><span class="p">,</span><span class="w"> </span><span class="nx">setLoading</span><span class="w"> </span><span class="p">}}&gt;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">            </span><span class="p">{</span><span class="nx">children</span><span class="p">}</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">        </span><span class="p">&lt;/</span><span class="nt">LoadingContext</span><span class="p">.</span><span class="na">Provider</span><span class="p">&gt;</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="p">};</span>
</span></code></pre>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <ul>
                                <li>
                                    <code>useState(true)</code> initializes the
                                    <code>loading</code> state to
                                    <code>true</code>—signifying that loading is
                                    in progress when the application first
                                    starts.
                                </li>
                                <li>
                                    The <code>useEffect</code> hook with
                                    <code>requestAnimationFrame</code> ensures
                                    that after any change to the
                                    <code>loading</code> state, the page will
                                    scroll to the top. This is a helpful touch
                                    for a better UX.
                                </li>
                                <li>
                                    <p>
                                        The
                                        <code>LoadingContext.Provider</code>
                                        makes the <code>loading</code> state and
                                        the <code>setLoading</code> function
                                        available to all components nested
                                        within it.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <strong
                                            >Custom Hook for Easy Access
                                            (<code>UseLoading</code>):</strong
                                        >
                                        The <code>UseLoading</code> hook
                                        simplifies access to the context:
                                    </p>
                                </li>
                            </ul>
                            <div class="language-typescript highlight">
                                <table class="highlighttable">
                                    <tr>
                                        <td class="linenos">
                                            <div class="linenodiv">
                                                <pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span>
<span class="normal"><a href="#__codelineno-3-7">7</a></span></pre>
                                            </div>
                                        </td>
                                        <td class="code">
                                            <div>
                                                <pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">UseLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nx">LoadingContextType</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">LoadingContext</span><span class="p">);</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">context</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s2">&quot;useLoading must be used within a LoadingProvider&quot;</span><span class="p">);</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">context</span><span class="p">;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">};</span>
</span></code></pre>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <p>
                                This hook retrieves the context value using
                                <code>useContext</code>. The error handling is
                                crucial; it prevents components outside the
                                <code>LoadingProvider</code> from attempting to
                                access the context—ensuring that the loading
                                state is managed correctly and preventing
                                unexpected behavior.
                            </p>
                            <h3 id="ii-visual-loading-indicator-loadingtsx">
                                II. Visual Loading Indicator
                                (<code>loading.tsx</code>)
                            </h3>
                            <p>
                                The <code>loading.tsx</code> file defines the
                                visual representation of the loading state:
                            </p>
                            <div class="language-tsx highlight">
                                <table class="highlighttable">
                                    <tr>
                                        <td class="linenos">
                                            <div class="linenodiv">
                                                <pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span>
<span class="normal"><a href="#__codelineno-4-6">6</a></span>
<span class="normal"><a href="#__codelineno-4-7">7</a></span>
<span class="normal"><a href="#__codelineno-4-8">8</a></span>
<span class="normal"><a href="#__codelineno-4-9">9</a></span></pre>
                                            </div>
                                        </td>
                                        <td class="code">
                                            <div>
                                                <pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1">//loading.tsx</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">Loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">        </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;w-screen h-screen fixed inset-0 flex items-center justify-center bg-white z-50 flex-col gap-4&quot;</span><span class="p">&gt;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">            </span><span class="p">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;w-12 h-12 border-4 border-accent border-t-transparent rounded-full animate-spin&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">            </span><span class="p">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="na">className</span><span class="o">=</span><span class="s">&quot;text-lg font-slab text-accent&quot;</span><span class="p">&gt;</span><span class="nx">Loading</span><span class="p">...&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">        </span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="p">};</span>
</span></code></pre>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <p>
                                This component renders a visually appealing
                                spinner and text overlaying the main content,
                                clearly signaling that the application is
                                loading. The CSS classes handle positioning,
                                styling, and animation.
                            </p>
                            <h3 id="iii-orchestration-pagetsx-and-layouttsx">
                                III. Orchestration (<code>page.tsx</code> and
                                <code>layout.tsx</code>)
                            </h3>
                            <ol>
                                <li>
                                    <p>
                                        <strong
                                            ><code>layout.tsx</code>:</strong
                                        >
                                        The <code>LoadingProvider</code> is
                                        placed in <code>layout.tsx</code> to
                                        wrap the entire application's content:
                                    </p>
                                    <div class="language-tsx highlight">
                                        <table class="highlighttable">
                                            <tr>
                                                <td class="linenos">
                                                    <div class="linenodiv">
                                                        <pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span></pre>
                                                    </div>
                                                </td>
                                                <td class="code">
                                                    <div>
                                                        <pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="c1">//layout.tsx</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="p">&lt;</span><span class="nt">LoadingProvider</span><span class="p">&gt;{</span><span class="nx">children</span><span class="p">}&lt;/</span><span class="nt">LoadingProvider</span><span class="p">&gt;</span>
</span></code></pre>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    <p>
                                        This makes the loading context available
                                        to <em>every</em> component within the
                                        application.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <strong><code>page.tsx</code>:</strong>
                                        The <code>page.tsx</code> file uses the
                                        <code>UseLoading</code> hook and
                                        conditionally renders the
                                        <code>Loading</code> component:
                                    </p>
                                    <div class="language-tsx highlight">
                                        <table class="highlighttable">
                                            <tr>
                                                <td class="linenos">
                                                    <div class="linenodiv">
                                                        <pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span></pre>
                                                    </div>
                                                </td>
                                                <td class="code">
                                                    <div>
                                                        <pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="c1">//page.tsx</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">loading</span><span class="p">,</span><span class="w"> </span><span class="nx">setLoading</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">UseLoading</span><span class="p">();</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">            </span><span class="nx">setLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span><span class="w"> </span><span class="c1">// Simulates a 1-second load</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">[]);</span><span class="w"> </span><span class="c1">//Empty dependency array ensures it runs once after mount.</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">        </span><span class="p">&lt;&gt;</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">            </span><span class="p">{</span><span class="nx">loading</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">&lt;</span><span class="nt">Loading</span><span class="w"> </span><span class="p">/&gt;</span><span class="w"> </span><span class="o">:</span><span class="w">  </span><span class="cm">/* Rest of page content */</span><span class="p">}</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">        </span><span class="p">&lt;/&gt;</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="p">};</span>
</span></code></pre>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    <p>
                                        The <code>useEffect</code> hook with an
                                        empty dependency array simulates a
                                        loading process. After 1000 milliseconds
                                        (1 second),
                                        <code>setLoading(false)</code> is
                                        called, causing the
                                        <code>Loading</code> component to
                                        unmount. The conditional rendering
                                        (<code
                                            >{loading ? &lt;Loading /&gt; :
                                            ...}</code
                                        >) ensures the loading indicator is only
                                        displayed while the
                                        <code>loading</code> state is
                                        <code>true</code>.
                                    </p>
                                </li>
                            </ol>
                            <p>
                                This detailed explanation clarifies the
                                interplay between the context, the loading
                                indicator, and the conditional rendering. The
                                carefully chosen approach makes for a highly
                                effective and well-structured loading mechanism.
                            </p>
                        </article>
                    </div>

                    <script>
                        var tabs = __md_get("__tabs");
                        if (Array.isArray(tabs))
                            e: for (var set of document.querySelectorAll(
                                ".tabbed-set"
                            )) {
                                var labels =
                                    set.querySelector(".tabbed-labels");
                                for (var tab of tabs)
                                    for (var label of labels.getElementsByTagName(
                                        "label"
                                    ))
                                        if (label.innerText.trim() === tab) {
                                            var input = document.getElementById(
                                                label.htmlFor
                                            );
                                            input.checked = !0;
                                            continue e;
                                        }
                            }
                    </script>

                    <script>
                        var target = document.getElementById(
                            location.hash.slice(1)
                        );
                        target &&
                            target.name &&
                            (target.checked =
                                target.name.startsWith("__tabbed_"));
                    </script>
                </div>

                <button
                    type="button"
                    class="md-top md-icon"
                    data-md-component="top"
                    hidden
                >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path
                            d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"
                        />
                    </svg>
                    Back to top
                </button>
            </main>

            <footer class="md-footer">
                <nav class="md-footer__inner md-grid" aria-label="Footer">
                    <a
                        href="./styling-configuration.html"
                        class="md-footer__link md-footer__link--prev"
                        aria-label="Previous: Getting started"
                    >
                        <div class="md-footer__button md-icon">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"
                                />
                            </svg>
                        </div>
                        <div class="md-footer__title">
                            <span class="md-footer__direction"> Previous </span>
                            <div class="md-ellipsis">Styling Configuration</div>
                        </div>
                    </a>

                    <a
                        href="./motion-usage.html"
                        class="md-footer__link md-footer__link--next"
                        aria-label="Next: Motion usage"
                    >
                        <div class="md-footer__title">
                            <span class="md-footer__direction"> Next </span>
                            <div class="md-ellipsis">Motion usage</div>
                        </div>
                        <div class="md-footer__button md-icon">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"
                                />
                            </svg>
                        </div>
                    </a>
                </nav>

                <div class="md-footer-meta md-typeset">
                    <div class="md-footer-meta__inner md-grid">
                        <div class="md-copyright">
                            <div class="md-copyright__highlight">
                                Copyright &copy; 2025 ; Mechano
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
        <div class="md-dialog" data-md-component="dialog">
            <div class="md-dialog__inner md-typeset"></div>
        </div>

        <script id="__config" type="application/json">
            {
                "base": "..",
                "features": [
                    "navigation.tabs",
                    "navigation.sections",
                    "navigation.footer",
                    "toc.integrate",
                    "navigation.top",
                    "search.suggest",
                    "search.highlight",
                    "content.tabs.link",
                    "content.code.annotation",
                    "content.code.copy"
                ],
                "search": "../assets/javascripts/workers/search.f8cc74c7.min.js",
                "translations": {
                    "clipboard.copied": "Copied to clipboard",
                    "clipboard.copy": "Copy to clipboard",
                    "search.result.more.one": "1 more on this page",
                    "search.result.more.other": "# more on this page",
                    "search.result.none": "No matching documents",
                    "search.result.one": "1 matching document",
                    "search.result.other": "# matching documents",
                    "search.result.placeholder": "Type to start searching",
                    "search.result.term.missing": "Missing",
                    "select.version": "Select version"
                }
            }
        </script>

        <script src="./assets/javascripts/bundle.f1b6f286.min.js"></script>
    </body>
</html>
